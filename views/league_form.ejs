<!DOCTYPE html>
<html lang="en">
  <%- include('./partials/head') -%>
  <body>
    <div
      class="
        container-fluid
        form-container
        w-75
        h-100
        d-flex
        flex-column
        justify-content-center
        m-auto
        shadow
        p-0
      "
    >
      <header><%- include('./partials/header') -%></header>

      <main class="main mx-3">
        <h1 class="text-center"><%= title %></h1>

        <form method="POST" action="" enctype="multipart/form-data">
          <div class="form-group pb-3">
            <label for="name" class="fw-bold py-2"
              >Name <span class="text-danger">*</span></label
            >
            <input
              type="text"
              name="name"
              id="name"
              placeholder="Official name of the league"
              value="<%= typeof league === 'undefined' ? '' : league.name %>"
              class="form-control"
              required
            />
          </div>

          <div class="form-group pb-3">
            <label for="description" class="fw-bold py-2"
              >Description <span class="text-danger">*</span></label
            >
            <!-- prettier-ignore -->
            <textarea
              type="textarea"
              name="description"
              id="description"
              placeholder="Information about the league"
              class="form-control"
              rows="4"
              required
            ><%= typeof league == 'undefined' ? '' : league.description %></textarea
            >
          </div>

          <div class="form-group pb-3">
            <label for="leagueLogo" class="fw-bold py-2"
              >Logo <span class="text-danger">*</span></label
            >
            <input
              type="file"
              id="leagueLogo"
              name="leagueLogo"
              class="form-control"
              required
            />
          </div>

          <% if(typeof isUpdating !== 'undefined'){ %>
          <div class="form-group pb-3">
            <label for="password" class="fw-bold py-2"
              >Password <span class="text-danger">*</span></label
            >
            <input
              type="password"
              id="password"
              name="password"
              class="form-control"
              required
            />
          </div>
          <% } %>

          <div class="py-3 d-flex justify-content-start">
            <button class="btn btn-primary">
              <%= typeof isUpdating !== 'undefined' ? 'Update' : 'Create' %>
            </button>
            <a
              href="/store"
              class="link-secondary px-3 py-2 text-decoration-none"
              >Cancel</a
            >
          </div>
        </form>

        <% if (typeof errors !== 'undefined') { %>
        <ul>
          <% errors.forEach(err => { %>
          <li><%= err.msg %></li>
          <% }) %>
        </ul>
        <% } %>
      </main>

      <footer><%- include('./partials/footer') -%></footer>
    </div>
  </body>
</html>
